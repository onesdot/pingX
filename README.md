# 网络探测工具 (pingX)

网络探测工具是一款基于Go语言开发的网络主机探测工具，支持ICMP和ARP两种探测方式，能够实时显示探测结果并将最终结果保存到文件。

## 功能特性

- **多探测方式**：支持ICMP Echo请求和ARP缓存扫描
- **实时显示**：探测结果实时显示在终端窗口
- **灵活配置**：支持指定单个IP或整个网段进行探测
- **结果持久化**：探测结果保存到aliver.txt文件
- **并发探测**：默认30个并发线程，提高探测效率
- **轻量级**：使用UPX压缩后仅约1.1MB，便于携带和部署

## 安装步骤

### 方法一：直接使用编译好的可执行文件

1. 从GitHub仓库下载最新版本的可执行文件
2. 直接运行即可，无需安装依赖

### 方法二：从源码编译

1. 确保已安装Go 1.20或更高版本
2. 克隆代码仓库：
   ```bash
   git clone https://github.com/onesdot/pingX.git
   cd pingX
   ```
3. 编译程序：
   ```bash
   go build -o pingX.exe
   ```
4. 使用UPX压缩（可选）：
   ```bash
   ./upx-5.1.0-win64/upx.exe -9 pingX.exe
   ```

## 使用方法

### 显示帮助信息

```bash
.ingX.exe -help
```

### 指定IP地址探测

```bash
.ingX.exe -i 192.168.1.1
```

### 指定网段探测

```bash
.ingX.exe -n 192.168.1.0/24
```

### 默认模式（全网探测）

```bash
.ingX.exe
```

## 参数说明

| 参数 | 说明 | 示例 |
|------|------|------|
| -i | 指定要探测的IP地址 | -i 192.168.1.1 |
| -n | 指定要探测的网段 | -n 192.168.1.0/24 |
| -help | 显示帮助信息 | -help |

## 示例输出

```
开始ICMP全网探测: 192.168.124.0/24...
[ICMP] 发现活跃主机: 192.168.124.1
[ICMP] 发现活跃主机: 192.168.124.2
[ICMP] 发现活跃主机: 192.168.124.5
ICMP探测完成，发现 3 个活跃主机

读取本机ARP缓存...
[ARP] 发现主机: 192.168.124.1  MAC: 88-2a-5e-a3-0d-b5  状态: 动态
[ARP] 发现主机: 192.168.124.2  MAC: d4-e8-53-36-92-a0  状态: 动态
ARP缓存读取完成，发现 2 个已缓存主机

探测结果已保存到: aliver.txt
```

## 结果文件格式

探测结果将保存到当前目录下的`aliver.txt`文件中，格式如下：

```
=== 网络探测结果报告 ===
探测时间: 2026-01-17 16:35:05
探测IP地址: 192.168.124.1
=======================

=== ICMP探测结果 ===
探测到 1 个活跃主机
IP地址            MAC地址                状态        来源
------------------------------------------------------
192.168.124.1   未知                   在线         ICMP

=== ARP缓存结果 ===
读取到 1 个ARP缓存条目

IP地址            MAC地址                状态        来源
------------------------------------------------------
192.168.124.1   88-2a-5e-a3-0d-b5    动态        ARP缓存

=======================
报告生成完成！
```

## 注意事项

1. **运行权限**：在Windows系统上需要以管理员权限运行，否则可能无法进行ARP缓存扫描
2. **防火墙设置**：确保Windows防火墙允许ICMP Echo请求通过
3. **网络环境**：ARP扫描只能在同一网段内进行
4. **性能影响**：探测大量IP地址时可能会对网络造成一定影响，建议合理设置并发数量

## 技术架构

- **开发语言**：Go 1.20+
- **主要依赖**：golang.org/x/net/icmp
- **编译参数**：-ldflags "-s -w"（去除符号表和调试信息）
- **压缩工具**：UPX 5.1.0

## 项目结构

```
pingX/
├── main.go           # 主程序入口
├── icmpscan.go       # ICMP探测功能实现
├── arpscan.go        # ARP缓存扫描功能实现
├── iputils.go        # IP地址处理工具函数
├── output.go         # 结果输出功能实现
├── go.mod            # Go模块依赖管理
├── go.sum            # 依赖校验文件
├── README.md         # 项目说明文档
└── .gitignore        # Git忽略文件配置
```

## 贡献指南

欢迎提交Issue和Pull Request！

## 许可证

本项目采用MIT许可证，详见LICENSE文件。

## 联系方式

如有问题或建议，请通过以下方式联系：
- GitHub Issues：https://github.com/onesdot/pingX/issues
- 邮箱：user@example.com
